/**
 * @file HW_NX3LPW.c
 * @brief  Source code for  NX3L4051PW Driver
 * @author Joshua Lafleur (josh.lafleur@outlook.com)
 * @date 2024-01-21
 */

#include "include/HW.h"
#if defined (BMSW_BOARD_VA3)

/******************************************************************************
 *                             I N C L U D E S
 ******************************************************************************/

#include "HW_NX3L4051PW.h"

#include "HW_gpio.h"

/******************************************************************************
 *                              D E F I N E S
 ******************************************************************************/

/******************************************************************************
 *                              E X T E R N S
 ******************************************************************************/

/******************************************************************************
 *                             T Y P E D E F S
 ******************************************************************************/

/******************************************************************************
 *                               M A C R O S
 ******************************************************************************/

/******************************************************************************
 *                           P U B L I C  V A R S
 ******************************************************************************/

/******************************************************************************
 *                         P R I V A T E  V A R S
 ******************************************************************************/

#if defined(BMSW_BOARD_VA3)
HW_GPIO_S S1 = {
    .port = MUX_SEL1_Port,
    .pin  = MUX_SEL1_Pin,
};
HW_GPIO_S S2 = {
    .port = MUX_SEL2_Port,
    .pin  = MUX_SEL2_Pin,
};
HW_GPIO_S S3 = {
    .port = MUX_SEL3_Port,
    .pin  = MUX_SEL3_Pin,
};
HW_GPIO_S MUX_NEn = {
    .port = NX3_NEN_Port,
    .pin  = NX3_NEN_Pin,
};
#endif /**< BMSW_BOARD_VA3 */

/******************************************************************************
 *            P U B L I C  F U N C T I O N  P R O T O T Y P E S
 ******************************************************************************/

/******************************************************************************
 *          P R I V A T E  F U N C T I O N  P R O T O T Y P E S
 ******************************************************************************/

/******************************************************************************
 *                       P U B L I C  F U N C T I O N S
 ******************************************************************************/

bool NX3L_Init(void)
{
    return true;
}

bool NX3L_SetMux(MUXChannel_E chn)
{
    HW_GPIO_WritePin(&S1, (chn & 0x01) ? true : false);
    HW_GPIO_WritePin(&S2, (chn & (0x01 << 1)) ? true : false);
    HW_GPIO_WritePin(&S3, (chn & (0x01 << 2)) ? true : false);
    return true;
}

bool NX3L_EnableMux(void)
{
    HW_GPIO_WritePin(&MUX_NEn, false);
    return true;
}

bool NX3L_DisableMux(void)
{
    HW_GPIO_WritePin(&MUX_NEn, true);
    return true;
}


/******************************************************************************
 *                     P R I V A T E  F U N C T I O N S
 ******************************************************************************/

#endif /**< BMSW_BOARD_VA3 */
